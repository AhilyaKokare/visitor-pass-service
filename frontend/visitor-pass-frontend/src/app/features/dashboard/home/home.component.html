<div class="dashboard-container">
  <!-- Loading State -->
  <div *ngIf="isLoading; else dashboardContent" class="loading-container" style="display: flex; justify-content: center; align-items: center; height: 80vh;">
    <app-loading-spinner message="Loading Your Dashboard..."></app-loading-spinner>
  </div>

  <!-- Dashboard Content -->
  <ng-template #dashboardContent>
    <div *ngIf="user && stats">
      <!-- Hero Section -->
      <div class="hero-section">
        <div class="hero-content">
          <div class="welcome-animation">
            <i class="bi bi-shield-check hero-icon float-animation"></i>
          </div>
          <h1 class="hero-title text-gradient">Welcome Back!</h1>
          <h2 class="hero-subtitle">{{ user.name }}</h2>
          <p class="hero-description">
            You're logged in as <span class="role-badge">{{ user.role.replace('ROLE_', '') | titlecase }}</span>
          </p>
        </div>
      </div>

      <!-- Quick Stats Cards -->
      <div class="stats-section">
        <div class="row g-4">
          <div class="col-lg-3 col-md-6">
            <div class="stat-card card-gradient-warning">
              <div class="stat-content">
                <h3 class="stat-number">{{ stats.myPendingPasses || 0 }}</h3>
                <p class="stat-label">My Pending Passes</p>
              </div>
            </div>
          </div>
          <div class="col-lg-3 col-md-6">
            <div class="stat-card card-gradient-success">
              <div class="stat-content">
                <h3 class="stat-number">{{ stats.myApprovedPasses || 0 }}</h3>
                <p class="stat-label">My Approved Passes</p>
              </div>
            </div>
          </div>
          <div class="col-lg-3 col-md-6">
            <div class="stat-card card-gradient-info">
              <div class="stat-content">
                <h3 class="stat-number">{{ stats.myCompletedPasses || 0 }}</h3>
                <p class="stat-label">My Completed Passes</p>
              </div>
            </div>
          </div>
          <div class="col-lg-3 col-md-6" *ngIf="stats.passesAwaitingMyApproval > 0">
            <div class="stat-card card-gradient-primary">
              <div class="stat-content">
                <h3 class="stat-number">{{ stats.passesAwaitingMyApproval }}</h3>
                <p class="stat-label">Awaiting My Approval</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
  <div class="actions-section">
    <div class="section-header">
      <h3 class="section-title">
        <i class="bi bi-lightning-charge me-2"></i>Quick Actions
      </h3>
      <p class="section-subtitle">Get things done faster</p>
    </div>

    <div class="row g-4">
      <div class="col-md-4">
        <div class="action-card" routerLink="/passes/create">
          <div class="action-icon">
            <i class="bi bi-plus-circle-fill"></i>
          </div>
          <h4 class="action-title">Create New Pass</h4>
          <p class="action-description">Generate a new visitor pass quickly</p>
          <div class="action-arrow">
            <i class="bi bi-arrow-right"></i>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="action-card" routerLink="/passes/history">
          <div class="action-icon">
            <i class="bi bi-clock-history"></i>
          </div>
          <h4 class="action-title">View History</h4>
          <p class="action-description">Check past visitor records</p>
          <div class="action-arrow">
            <i class="bi bi-arrow-right"></i>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="action-card" routerLink="/security/dashboard">
          <div class="action-icon">
            <i class="bi bi-shield-check"></i>
          </div>
          <h4 class="action-title">Security Dashboard</h4>
          <p class="action-description">Monitor security status</p>
          <div class="action-arrow">
            <i class="bi bi-arrow-right"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- System Status -->
  <div class="status-section">
    <div class="card modern-card">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h5 class="card-title mb-1">
              <i class="bi bi-activity me-2 text-success"></i>System Status
            </h5>
            <p class="text-muted mb-0">All systems operational</p>
          </div>
          <div class="status-indicator">
            <div class="status-dot status-online pulse-animation"></div>
            <span class="status-text">Online</span>
          </div>
        </div>
        <div class="mt-3">
          <small class="text-muted">
            <i class="bi bi-clock me-1"></i>
            Last updated: {{ currentTime | date:'medium' }}
          </small>
        </div>
      </div>
    </div>
  </div>
</div>
  </ng-template>
</div>
